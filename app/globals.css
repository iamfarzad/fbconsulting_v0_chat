@tailwind base;
@tailwind components;
@tailwind utilities;

/* Define theme variables using OKLCH format and @theme directive */
@theme {
  :root {
    --background: oklch(1 0 0); /* White */
    --foreground: oklch(0.145111 0.01799 265.87); /* Very dark blue/gray */
    --card: oklch(1 0 0);
    --card-foreground: oklch(0.145111 0.01799 265.87);
    --popover: oklch(1 0 0);
    --popover-foreground: oklch(0.145111 0.01799 265.87);
    --primary: oklch(0.20456 0.01062 265.87); /* Darker blue/gray */
    --primary-foreground: oklch(0.98495 0 0); /* Very light gray */
    --secondary: oklch(0.96489 0.0019 265.87); /* Very light gray/blue */
    --secondary-foreground: oklch(0.20456 0.01062 265.87);
    --muted: oklch(0.96489 0.0019 265.87);
    --muted-foreground: oklch(0.50481 0.00684 265.87); /* Medium gray/blue */
    --accent: oklch(0.96489 0.0019 265.87); /* Using original neutral accent */
    --accent-foreground: oklch(0.20456 0.01062 265.87);
    --destructive: oklch(0.6706 0.258 14.66); /* Red */
    --destructive-foreground: oklch(0.98495 0 0);
    --border: oklch(0.9139 0.00354 265.87); /* Light gray/blue */
    --input: oklch(0.9139 0.00354 265.87);
    --ring: oklch(0.20456 0.01062 265.87); /* Using original primary as ring */
    --radius: 0.5rem;
    --brand-orange: oklch(0.686 0.219 41.6); /* Orange #fe5a1d */

    /* Chart and Sidebar variables from original - keep if needed */
    --chart-1: oklch(0.71 0.18 30); /* Approx HSL 12 76% 61% */
    --chart-2: oklch(0.54 0.11 180); /* Approx HSL 173 58% 39% */
    --chart-3: oklch(0.36 0.06 220); /* Approx HSL 197 37% 24% */
    --chart-4: oklch(0.78 0.15 80); /* Approx HSL 43 74% 66% */
    --chart-5: oklch(0.76 0.21 50); /* Approx HSL 27 87% 67% */
    --sidebar-background: oklch(0.985 0 0); /* Approx HSL 0 0% 98% */
    --sidebar-foreground: oklch(0.32 0.01 265); /* Approx HSL 240 5.3% 26.1% */
    --sidebar-primary: oklch(0.205 0.01 265); /* Approx HSL 240 5.9% 10% */
    --sidebar-primary-foreground: oklch(0.985 0 0); /* Approx HSL 0 0% 98% */
    --sidebar-accent: oklch(0.965 0.002 265); /* Approx HSL 240 4.8% 95.9% */
    --sidebar-accent-foreground: oklch(0.205 0.01 265); /* Approx HSL 240 5.9% 10% */
    --sidebar-border: oklch(0.918 0.005 250); /* Approx HSL 220 13% 91% */
    --sidebar-ring: oklch(0.65 0.25 255); /* Approx HSL 217.2 91.2% 59.8% */
  }

  .dark {
    --background: oklch(0.145111 0.01799 265.87);
    --foreground: oklch(0.98495 0 0);
    --card: oklch(0.145111 0.01799 265.87);
    --card-foreground: oklch(0.98495 0 0);
    --popover: oklch(0.145111 0.01799 265.87);
    --popover-foreground: oklch(0.98495 0 0);
    --primary: oklch(0.98495 0 0);
    --primary-foreground: oklch(0.20456 0.01062 265.87);
    --secondary: oklch(0.2638 0.00666 265.87); /* Dark gray/blue */
    --secondary-foreground: oklch(0.98495 0 0);
    --muted: oklch(0.2638 0.00666 265.87);
    --muted-foreground: oklch(0.6818 0.00899 265.87); /* Lighter gray/blue */
    --accent: oklch(0.2638 0.00666 265.87); /* Using original neutral accent */
    --accent-foreground: oklch(0.98495 0 0);
    --destructive: oklch(0.489 0.189 14.66); /* Darker Red */
    --destructive-foreground: oklch(0.98495 0 0);
    --border: oklch(0.2638 0.00666 265.87);
    --input: oklch(0.2638 0.00666 265.87);
    --ring: oklch(0.8528 0.00277 265.87); /* Light gray/blue */
    --brand-orange: oklch(0.686 0.219 41.6); /* Orange #fe5a1d */

    /* Chart and Sidebar variables from original - keep if needed */
    --chart-1: oklch(0.6 0.18 255); /* Approx HSL 220 70% 50% */
    --chart-2: oklch(0.55 0.12 180); /* Approx HSL 160 60% 45% */
    --chart-3: oklch(0.65 0.2 55); /* Approx HSL 30 80% 55% */
    --chart-4: oklch(0.68 0.19 300); /* Approx HSL 280 65% 60% */
    --chart-5: oklch(0.65 0.22 20); /* Approx HSL 340 75% 55% */
    --sidebar-background: oklch(0.205 0.01 265); /* Approx HSL 240 5.9% 10% */
    --sidebar-foreground: oklch(0.965 0.002 265); /* Approx HSL 240 4.8% 95.9% */
    --sidebar-primary: oklch(0.6 0.2 255); /* Approx HSL 224.3 76.3% 48% */
    --sidebar-primary-foreground: oklch(1 0 0); /* Approx HSL 0 0% 100% */
    --sidebar-accent: oklch(0.264 0.007 265); /* Approx HSL 240 3.7% 15.9% */
    --sidebar-accent-foreground: oklch(0.965 0.002 265); /* Approx HSL 240 4.8% 95.9% */
    --sidebar-border: oklch(0.264 0.007 265); /* Approx HSL 240 3.7% 15.9% */
    --sidebar-ring: oklch(0.65 0.25 255); /* Approx HSL 217.2 91.2% 59.8% */
  }
}

/* Apply base styles */
@layer base {
    * {
        @apply border-border;
    }

    body {
        @apply bg-background text-foreground;
        font-feature-settings: "rlig" 1, "calt" 1; /* Keep font features */
    }
}

/* Utility Classes & Animations from AIChatWidgets (Keep existing ones) */
@layer utilities {
    .text-balance {
        text-wrap: balance;
    }

    /* Animation Keyframes */
    @keyframes ai-fade-in { from { opacity: 0; } to { opacity: 1; } }
    @keyframes ai-slide-up { from { transform: translateY(10px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
    @keyframes ai-ping { 75%, 100% { transform: scale(2); opacity: 0; } }
    @keyframes ai-pulse { 50% { opacity: .5; } }

    /* Animation Utility Classes */
    .ai-animate-fade-in { animation: ai-fade-in 300ms ease-out; }
    .ai-animate-slide-up { animation: ai-slide-up 300ms ease-out; }
    .ai-animate-ping { animation: ai-ping 1s cubic-bezier(0, 0, 0.2, 1) infinite; }
    .ai-animate-pulse { animation: ai-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }

    /* Backdrop Blur Classes */
    .ai-backdrop-blur-sm { -webkit-backdrop-filter: blur(4px); backdrop-filter: blur(4px); }
    .ai-backdrop-blur { -webkit-backdrop-filter: blur(8px); backdrop-filter: blur(8px); }
    .ai-backdrop-blur-lg { -webkit-backdrop-filter: blur(12px); backdrop-filter: blur(12px); }

    /* Scrollbar Styling */
    .ai-custom-scrollbar { scrollbar-width: thin; scrollbar-color: hsl(var(--border)) transparent; -webkit-overflow-scrolling: touch; }
    .ai-custom-scrollbar::-webkit-scrollbar { width: 6px; }
    .ai-custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
    .ai-custom-scrollbar::-webkit-scrollbar-thumb { background-color: hsl(var(--border)); border-radius: 3px; }

    /* Focus Styles */
    .ai-focus-ring { outline: none; transition: all 200ms; }
    .ai-focus-ring:focus-visible { outline: 2px solid hsl(var(--ring)); outline-offset: 2px; }

    /* Cross-browser Compatibility */
    @supports (-webkit-touch-callout: none) { .ai-backdrop-blur, .ai-backdrop-blur-sm, .ai-backdrop-blur-lg { background-color: rgba(0, 0, 0, 0.8); } }
    @supports not (backdrop-filter: blur()) { .ai-backdrop-blur, .ai-backdrop-blur-sm, .ai-backdrop-blur-lg { background-color: rgba(0, 0, 0, 0.8); } }

    /* Added Utilities from Oreginal_project */
    .glassmorphism-base {
      background: rgba(255, 255, 255, 0.15);
      -webkit-backdrop-filter: blur(15px); /* Added prefix */
      backdrop-filter: blur(15px);
      border: 1px solid rgba(255, 255, 255, 0.12);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    }
    .dark .glassmorphism-base {
      background: rgba(17, 25, 40, 0.75);
      border: 1px solid rgba(255, 255, 255, 0.125);
    }
    .animate-subtle-bounce {
      animation: subtle-bounce 2s ease-in-out infinite;
    }
    .subtle-grid {
      background-size: 40px 40px;
      background-image:
        linear-gradient(to right, rgba(0, 0, 0, 0.05) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(0, 0, 0, 0.05) 1px, transparent 1px);
    }
    .dark .subtle-grid {
      background-image:
        linear-gradient(to right, rgba(255, 255, 255, 0.05) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
    }
    .text-gradient {
      background-clip: text;
      -webkit-background-clip: text;
      color: transparent;
      background-image: linear-gradient(to right, #000, rgba(0, 0, 0, 0.8));
    }
    .dark .text-gradient {
      background-image: linear-gradient(to right, #fff, rgba(255, 255, 255, 0.8));
    }
    .text-highlight {
      background-color: rgba(0, 0, 0, 0.05);
      padding-left: 0.25rem;
      padding-right: 0.25rem;
      padding-top: 0.125rem;
      padding-bottom: 0.125rem;
      border-radius: 0.25rem;
    }
    .dark .text-highlight {
      background-color: rgba(255, 255, 255, 0.05);
    }
}

/* Added Keyframes from Oreginal_project */
@keyframes subtle-bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-4px); }
}

/* Keep existing Skeleton, ProseMirror, CodeMirror, Suggestion styles */
.skeleton {
    * { pointer-events: none !important; }
    *[class^="text-"] { color: transparent; @apply rounded-md bg-foreground/20 select-none animate-pulse; }
    .skeleton-bg { @apply bg-foreground/10; }
    .skeleton-div { @apply bg-foreground/20 animate-pulse; }
}
.ProseMirror { outline: none; }
.cm-editor, .cm-gutters { @apply bg-background dark:bg-zinc-800 outline-none selection:bg-zinc-900 !important; }
.ͼo.cm-focused>.cm-scroller>.cm-selectionLayer .cm-selectionBackground, .ͼo.cm-selectionBackground, .ͼo.cm-content::selection { @apply bg-zinc-200 dark:bg-zinc-900 !important; }
.cm-activeLine, .cm-activeLineGutter { @apply bg-transparent !important; }
.cm-activeLine { @apply rounded-r-sm !important; }
.cm-lineNumbers { @apply min-w-7; }
.cm-foldGutter { @apply min-w-3; }
.cm-lineNumbers .cm-activeLineGutter { @apply rounded-l-sm !important; }
.suggestion-highlight { @apply bg-blue-200 hover:bg-blue-300 dark:hover:bg-blue-400/50 dark:text-blue-50 dark:bg-blue-500/40; }
